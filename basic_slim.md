---
jupytext:
  text_representation:
    extension: .md
    format_name: myst
    format_version: 0.12
    jupytext_version: 1.9.1
kernelspec:
  display_name: Python 3
  language: python
  name: python3
---

(sec_tskit_basic_slim)=

# Forward simulations in SLiM

Tree sequences can be simulated forwards in time by several software packages, such as
[SLiM](https://messerlab.org/slim) and [fwdpy11](https://fwdpy11.readthedocs.io/). To
illustrate the use of forward-in-time generated tree sequences, in the set of tutorials
in this chapter, we will use SLiM, which specifies simulations using its own simulation
language, [eidos](http://benhaller.com/slim/Eidos_Manual.pdf).

For example, the following eidos script is taken from
section 17.1 of the [SLiM manual](http://benhaller.com/slim/SLiM_Manual.pdf),
in which tree sequence recording is discussed.

```{code-cell}
:tags: ["remove-cell"]
import subprocess
import os

from IPython.display import display, Code, HTML

def show_and_execute_slim_script(name, path="data", random_seed=123):
    pathname = os.path.join(path, name)
    style = "text-align: right; font-size: 80%; font-weight: bold"
    href = f'href="https://tskit.dev/tutorials/examples/{name}"' if path == "data" else ""
    display(HTML(f'<div style="{style}"><a {href}">{name}</a></div>'))
    display(Code(filename=pathname, language='r'))  # R = nearest lang for syntax colouring
    subprocess.run(["slim", "-s", str(int(random_seed)), pathname])
```


```{code-cell}
:tags: ["remove-input"]
show_and_execute_slim_script("simple_forward_simulation.slim")
```

To read in tree sequences generated by SLiM,
the [pyslim](https://pyslim.readthedocs.io/) package, which is a thin wrapper to
`tskit`, is useful.

```{code-cell}
import pyslim
import numpy as np

from IPython.display import SVG
ts = pyslim.load("slim_output.trees")
SVG(ts.simplify(np.arange(10)).first())
```

There are a large number of resources to help you learn to use SLiM, which also
comes with a user-friendly GUI (extremely helpful for novice users). The
tutorials here are not intended as an introduction to SLiM itself,
but as a brief guide to using tree sequences which can be output by SLiM.
The tutorials are separated into the following sections:

:::{todo}
Add e.g. pyslim vignettes
:::